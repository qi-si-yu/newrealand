TNZ=window.TNZ||{},TNZ.Bookmark=function(t){t=t||jQuery;var s={$swiperReference:null,bHasSwiper:null};s.$document=t(document),s.$window=t(window),s.bookmarkClass=".js-bookmark",s.buttonClass=".js-bookmark-info",s.active_class_mini="is-open",s.active_class_modal="js-modal-is-open",s.breakpoint_modal="wide",s.breakpoint_mini="desktop",s.assetImageClass=".figure-image--wrapper",s.$bookmark=t(s.bookmarkClass),izimodalSettings={headerColor:"#171717",background:"#FFFFFF",borderBottom:!1,onClosed:function(){k()}};function o(){var e=document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientWidth:document.body?document.body.clientWidth:void 0,o=[{phone:380},{"large-phone":520},{phablet:640},{tablet:768},{tabtop:920},{desktop:1024},{wide:1280}],a=[];for(i=0;i<o.length;i++){var n=o[i];for(var s in n){if(n.hasOwnProperty(s))e<n[s]?a.push("<"+s):a.push(">"+s)}}return a}function a(e){return-1<o().indexOf(e)}function n(e){return e.hasClass("js-use-modal")}function r(e,o){var a=e.parents("figure").find(s.assetImageClass),i=t('<div class="modal-content__wrapper"></div>').html(e.find(".bookmark__body").html());i.find(".region-map").addClass("region-map--black");var n='<div class="bookmark-modal__wrapper"><div class="bookmark-modal__image" style="background-image: url('+a.find("img").attr("src")+');">'+a.html()+'</div><div class="bookmark-modal__content"><div class="bookmark-modal-content__wrapper">'+i.html()+"</div></div></div>";m(n,e,o)}function l(e){var o=e.closest(".js-contentblock").attr("id");t("#modal-"+o).iziModal("close"),e.removeClass("js-modal-is-open")}function c(e){e.addClass(s.active_class_mini)}function d(e){e.removeClass(s.active_class_mini)}function e(e){e.preventDefault();var o=t(this).closest(s.bookmarkClass);a("<"+s.breakpoint_modal)&&n(o)?r(o,e):c(o)}var m=function(e,o,a){var i=o.closest(".js-contentblock");i.length&&u(i);var n=i.attr("id"),s=t("#modal-"+n).iziModal(izimodalSettings);s.iziModal("setContent",e),s.iziModal("open",a),o.addClass("js-modal-is-open")},u=function(e){null===s.bHasSwiper&&e[0].querySelector(".js-swiper")&&(s.bHasSwiper=!0,s.$swiperReference=e[0].querySelector(".js-swiper").swiper),s.bHasSwiper&&setTimeout(function(){s.$swiperReference&&s.$swiperReference.autoplay.stop()},200)},k=function(){s.$swiperReference&&(s.$swiperReference.autoplay.start(),s.$swiperReference=null)};s.$document.on("click",function(e){t(e.target).closest(s.bookmarkClass).length||t(s.bookmarkClass+"."+s.active_class_mini).each(function(){var e=t(this);d(e)})}),s.$window.on("resize",function(){var e;t(s.bookmarkClass+"."+s.active_class_modal).length&&(e=t(s.bookmarkClass+"."+s.active_class_modal)),t(s.bookmarkClass+"."+s.active_class_mini).length&&(e=t(s.bookmarkClass+"."+s.active_class_mini)),e&&(n(e)&&function(e){return e.hasClass(s.active_class_modal)}(e)?a("<"+s.breakpoint_modal)||(a("<"+s.breakpoint_mini)?(l(e),c(e)):l(e)):function(e){return e.hasClass(s.active_class_mini)}(e)&&n(e)&&a("<"+s.breakpoint_modal)&&(d(e),r(e)))}),t("body").on("click",s.buttonClass,e)},TNZ.JSLib.requireLoadEvent(["jqready"],function(){TNZ.Bookmark(jQuery)});