TNZ=window.TNZ||{},TNZ.EditionSwitcher=function(i){function r(){l.$btn.attr("aria-expanded",!0),l.$list.attr("aria-hidden",!1),l.$list.prop("hidden",!1)}function s(){l.$btn.attr("aria-expanded",!1),l.$list.attr("aria-hidden",!0),l.$list.prop("hidden",!0)}function e(e){var i=l.$switcher,n=i.find(l.submenu_link).length;if(27===e.keyCode||9===e.keyCode)e.preventDefault(),s(),9===e.keyCode&&l.$btn.blur(),27===e.keyCode&&l.$btn.focus();else if(13===e.keyCode&&"a"!==e.target.tagName.toLowerCase())r(),_link=i.find(l.submenu_link).eq(0),_link.focus();else{var t=i.find(l.submenu_link).index(i.find(":focus")),o=n-1;if(38===e.keyCode)if(0<t)var d=t-2;else d=o;if(40===e.keyCode)if(-1!==t&&t<n-2)d=t+2;else d=0;if(37===e.keyCode)if(0<t)d=t-1;else d=o;if(39===e.keyCode)if(-1!==t&&t<n-1)d=t+1;else d=0;_link=i.find(l.submenu_link).eq(d),_link.focus()}}var l={$editionCrtlMobile:(i=i||jQuery)("#js-trk-edition-crtl-mobile"),$switcher:i("#js-edition-switcher"),$btn:i("#js-edition-switcher__label"),$list:i("#js-edition-switcher__list"),submenu_link:".edition-switcher__link"};l.$switcher.on("mouseover",function(){r()}).on("mouseout",function(){s()}),l.$btn.on("focus",function(){l.$switcher.on("keydown",e)}),s(),l.$editionCrtlMobile.off("change"),l.$editionCrtlMobile.on("change",function(e){window.location.href=i(this).val()})},TNZ.JSLib.requireLoadEvent(["jqready"],function(){TNZ.EditionSwitcher(jQuery)});