TNZ=window.TNZ||{},TNZ.GDPR=function(o,s,t){if((o=o||{message_block_id:-1}).open_msg_link_jq_hook=o.open_msg_link_jq_hook||".js-none",o.allow_link_id=o.allow_link_id||"gdpr-header-allow",o.close_link_id=o.close_link_id||"gdpr-content-header-close",o.show_message_on_load=!(null!=o.show_message_on_load&&!o.show_message_on_load),o.intestmode=null!=o.intestmode&&!1!==o.intestmode,o.url_gdpr_markets=o.url_gdpr_markets||["/de-de/","/en-ie/","/fr-fr/","/en-gb/"],o.scrollToOffset=o.scrollToOffset||88,t=t||jQuery,!1==!!o.message_block_id||-1===o.message_block_id)throw new Error('Settings param "message_block_id" is required.');if(!1==!!s)throw new Error('The 2nd argument of "GDPRUtil" must inited and passed in. This is the TNZ.GDPRUtil component.');var n={$messageBlock:t("#"+o.message_block_id),$openMessageLink:t(o.open_msg_link_jq_hook),$allow:t("#"+o.allow_link_id),$close:t("#"+o.close_link_id),reloadPauseTimeMs:200},i={showMessage:function(e){e&&e.length&&e[0].removeAttribute("hidden")},hideMessage:function(e){e&&e.length&&setTimeout(function(){e.slideUp(function(){e.attr("hidden",!0),e[0].removeAttribute("style")})},n.reloadPauseTimeMs)},removeMessage:function(e){e&&e.length&&e.remove()},setAllow:function(){s.optin_allow()},setDeny:function(){s.optin_deny()}};return!(i.isEUMarketOrUser=function(){r=!1;var e=new RegExp(o.url_gdpr_markets.join("|"),"i");return!s.in_eu()&&-1===window.location.pathname.search(e)||(r=!0),r})===s.optin_marketing()&&o.show_message_on_load&&!1===s.cookie_set()&&(!0===i.isEUMarketOrUser()||o.intestmode)&&i.showMessage(n.$messageBlock),!1===i.isEUMarketOrUser()&&!1===o.intestmode&&n.$openMessageLink.length&&n.$openMessageLink.attr("hidden",!0),n.$allow.is("input")&&"checkbox"===n.$allow.attr("type")?(!0===s.optin_marketing()&&n.$allow.attr("checked","checked"),n.$allow.on("change",function(e){e.preventDefault(),this.checked?(i.setAllow(),i.hideMessage(n.$messageBlock),setTimeout(function(){document.location.reload(!0)},n.reloadPauseTimeMs)):(i.setDeny(),i.hideMessage(n.$messageBlock))})):(n.$allow.on("click",function(e){e.preventDefault(),i.setAllow();try{TNZ.DTM.setCookie("__dtm_forceactivevisit","true",0),TNZ.DTM.removeCookie("avtriggered"),delete window.__load_marketing_tags,delete window.__avtriggered}catch(e){}document.location.reload(!0)}),n.$close.on("click",function(e){e.preventDefault(),i.setDeny(),i.removeMessage(n.$messageBlock),TNZ.GDPRStickyHeader&&TNZ.GDPRStickyHeader.resetHeaderHeight()})),n.$openMessageLink.length&&n.$openMessageLink.on("click",function(e){e.preventDefault(),i.showMessage(n.$messageBlock),t("html, body").animate({scrollTop:n.$messageBlock.offset().top-o.scrollToOffset},500,function(){n.$messageBlock[0].removeAttribute("hidden"),n.$messageBlock[0].removeAttribute("style")})}),i};