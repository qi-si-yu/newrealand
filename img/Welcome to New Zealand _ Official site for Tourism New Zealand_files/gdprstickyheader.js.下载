TNZ=window.TNZ||{},TNZ.GDPRStickyHeader=function(a){function e(){var e=t.$header.outerHeight(),r=t.$gdpr.outerHeight(),d=e+r;TNZ.Util.getAddedCSSFilesArray().filter(function(e){return-1!=e.indexOf("/css/campaigns/business-listing-layout.css")}).length&&(d=r),a("#js-global-header").height(d),t.$header.css("top",r)}var r={},d=a(window).scrollTop(),t={$wrapper:a(".pagehead__header"),$header:a("#sticky-header"),$gdpr:a("#gdpr-header"),$body:a("body")},i=function(){return t.$header.height()||0};return r.resetHeaderHeight=function(){var e=t.$header.outerHeight();a("#js-global-header").height(e),t.$header.css("top",0),TNZ.EventManager.trigger("TNZ.Resize.End")},r.init=function(){t.$gdpr.length&&!1===t.$gdpr.parent()[0].hasAttribute("hidden")&&(e(),TNZ.EventManager.bind("TNZ.Resize.End",e)),t.$wrapper&&t.$header&&(function(){if(t.$wrapper&&t.$header){var r=i();a(window).on("scroll",function(){var e=a(window);e.scrollTop()>Math.round(t.$wrapper.offset().top)?(t.$header.addClass("is-sticky"),e.scrollTop()<d&&-1<e.scrollTop()?t.$body.removeClass("sticky-header--hidden"):e.scrollTop()>Math.round(t.$wrapper.offset().top+r)&&t.$body.addClass("sticky-header--hidden")):(t.$body.removeClass("sticky-header--hidden"),t.$header.removeClass("is-sticky")),d=e.scrollTop()})}}(),TNZ.EventManager.bind("TNZ.Resize.End",i))},r.init(),r};