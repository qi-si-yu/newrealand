TNZ=window.TNZ||{},TNZ.TrackingFFController=function(c){var e="airasia",i="airtahitinui",r="airnz",d="airnzkr",a="airnzint",s="cathay",o="cathayV2",l="chinasouthern",f="chinaeastern",v="emirates",u="emiratesLink",m="garudaairlines",p="hawaiian",g="jetstar",y="korean",b="koreanjp",k="malaysia",h="malaysiain",D="malaysiaLink",C="pal",_="qantas",R="qantasjp",w="qantasbanner",x="aircanada",T="aircanadabanner",F="qatarairways",M="singapore",O="singaporev2",Y="thaiairways",A="intercity",V="interislander",L="thl",N="tam",j="united",q="wilderness";function z(n,t,e,a){var i="";return i+="Cities:"+n+"-"+t,i+=",Dates:"+e,a&&a.length&&(i+=":"+a),i.toLowerCase()}function S(n){var t="[unknown]"+n;switch(n){case e:t="air asia";break;case i:t="air tahiti nui";break;case r:case d:case a:t="air new zealand";break;case v:case u:t="emirates";break;case _:case R:case w:t="qantas";break;case x:case T:t="air canada";break;case F:t="qatar airways";break;case s:case o:t="cathay pacific";break;case M:case O:t="singapore airlines";break;case y:case b:t="korean air";break;case k:case h:t="malaysia airlines";break;case D:break;case g:t="JetStar";break;case l:t="china southern";break;case f:t="china eastern";break;case p:t="hawaiian airlines";break;case Y:t="thai airways";break;case N:t="tam";break;case L:t="thl";break;case q:t="Wilderness motorhomes";break;case A:t="intercity";break;case V:t="interislander";break;case j:t="united";break;case m:t="garuda airlines";break;case C:t="philippines airlines"}return t}function J(n,t){var e=c({});-1<[p,x,T].indexOf(n)?e.data("eVar48",S(n)):e.data("eVar48",n),e.data("eVar38","farefinder"),e.data("eVar47",t),e.data("eVar8",S(n)),e.data("events","event31"),e.data("description","Farefinder: "+n),e.data("type",Z(n)),c.omnitureTracking.omnitureLink(e)}function Z(n){var t="airline";switch(n){case q:case N:case L:t="campervan";break;case A:t="bus";break;case V:t="ferry"}return t}c.extend({trackingFFController:{farefinderTracking:function(n,t){var e="";switch(n){case r:e=function(n){return 1==("return"==c(n).contents().find("input[name=fare_type]:checked").val())?z(c(n).contents().find("#departure_point").val(),c(n).contents().find("#arrival_point").val(),c(n).contents().find("[name=depart_yearmonth]").val()+"-"+c(n).contents().find("[name=depart_date]").val(),c(n).contents().find("[name=arrival_yearmonth]").val()+"-"+c(n).contents().find("[name=arrival_date]").val()):z(c(n).contents().find("#departure_point").val(),c(n).contents().find("#arrival_point").val(),c(n).contents().find("[name=depart_yearmonth]").val()+"-"+c(n).contents().find("[name=depart_date]").val())}(t);break;case d:n=r,e=function(n){return 1==c(n.Round_Trip[0]).attr("checked")?z(c(n.o_city1).val(),c(n.d_city1).val(),(new Date).getFullYear()+"-"+c(n.mon1).val()+"-"+c(n.day1).val(),(new Date).getFullYear()+"-"+c(n.mon2).val()+"-"+c(n.day2).val()):z(c(n.o_city1).val(),c(n.d_city1).val(),(new Date).getFullYear()+"-"+c(n.mon1).val()+"-"+c(n.day1).val())}(t);break;case"airnzkrgif":case"airnzintgif":n=r,e="N/A - Tile Only";break;case p:n=p,e="N/A - Tile Only";break;case v:e=function(n){var t=1!=c(n).contents().find("input[name='triptype']:checked").val(),e=(new Date).getFullYear(),a=Math.max(c(n).contents().find("[name=seldyear1]").val(),e),i=Math.max(c(n).contents().find("[name=seldyear2]").val(),e);return 1==t?z(c(n).contents().find("[name=seldcity1]").val(),c(n).contents().find("[name=selacity1]").val(),a+"-"+c(n).contents().find("[name=seldmonth1]").val()+"-"+c(n).contents().find("[name=seldday1]").val(),i+"-"+c(n).contents().find("[name=seldmonth2]").val()+"-"+c(n).contents().find("[name=seldday2]").val()):z(c(n).contents().find("[name=seldcity1]").val(),c(n).contents().find("[name=selacity1]").val(),a+"-"+c(n).contents().find("[name=seldmonth1]").val()+"-"+c(n).contents().find("[name=seldday1]").val())}(t);break;case u:n=v,e="Link Clicked";break;case _:e=function(n){var t="R"==c(n).contents().find("input[name='intTripType']:checked").val(),e=c(n).contents().find("#intDepDay").val()+","+c(n).contents().find("#intDepMonthYear").val();if(e=e.split(",").reverse().join("-"),1!=t)return z(c(n).contents().find("#intFrom").val(),c(n).contents().find("#intTo").val(),e);var a=c(n).contents().find("#intRetDay").val()+","+c(n).contents().find("#intRetMonthYear").val();return a=a.split(",").reverse().join("-"),z(c(n).contents().find("#intFrom").val(),c(n).contents().find("#intTo").val(),e,a)}(t);break;case R:e=function(n){var t=n.travelDates.value,e=t.substring(0,8),a=t.substring(t.indexOf(",")+1,t.indexOf(",")+9);return e=e.substring(0,4)+"-"+e.substring(4,6)+"-"+e.substring(6,8),a=a.substring(0,4)+"-"+a.substring(4,6)+"-"+a.substring(6,8),1!=("R"==n.tripType.value)?z(n.depAirports.value,n.destAirports.value,e):z(n.depAirports.value.substring(0,n.depAirports.value.indexOf(",")),n.depAirports.value.substring(n.depAirports.value.indexOf(",")+1,n.depAirports.value.indexOf(",")+4),e,a)}(t);break;case w:n=_,e="N/A - Tile Only";break;case T:n=x,e="N/A - Tile Only";break;case s:e=function(n){var t="R"==c(n).contents().find("[name=tripType]").val(),e=(new Date).getFullYear(),a=c(n).contents().find("[name=d_month]").val(),i=Math.max(a.substring(0,4),e)+"-"+a.substring(4,6)+"-"+c(n).contents().find("[name=d_day]").val();if(1!=t)return z(c(n).contents().find("[name=d_city]").val(),c(n).contents().find("[name=r_city]").val(),i);var r=c(n).contents().find("[name=r_month]").val(),d=Math.max(r.substring(0,4),e)+"-"+r.substring(4,6)+"-"+c(n).contents().find("[name=r_day]").val();return z(c(n).contents().find("[name=d_city]").val(),c(n).contents().find("[name=r_city]").val(),i,d)}(t);break;case o:e=function(n){var t="",e="";return t=n.date_outbound,e=n.date_inbound,8<=n.date_outbound.length&&(t=n.date_outbound.substring(0,4)+"-"+n.date_outbound.substring(4,6)+"-"+n.date_outbound.substring(6,8)),8<=n.date_inbound.length&&(e=n.date_inbound.substring(0,4)+"-"+n.date_inbound.substring(4,6)+"-"+n.date_inbound.substring(6,8)),"R"==n.trip_type?z(n.origin,n.destination,t,e):z(n.origin,n.destination,t)}(t);break;case M:e=function(n){var t=c(n).contents().find('[name="ondCityCode[0].month"]').val().split("/"),e=c(n).contents().find('[name="ondCityCode[1].month"]').val().split("/");return z(c(n).contents().find('[name="ondCityCode[0].origin"]').val(),c(n).contents().find('[name="ondCityCode[0].destination"]').val(),t[1]+"-"+t[0]+"-"+c(n).contents().find('[name="ondCityCode[0].day"]').val(),e[1]+"-"+e[0]+"-"+c(n).contents().find('[name="ondCityCode[1].day"]').val())}(t);break;case O:n=M,e=function(n){var t=c(n).contents().find("#month1").val().split("-"),e=c(n).contents().find("#month2").val().split("-");return"R"==c(n).contents().find(".radio.active[data-id='direction']").attr("data-value")?z(c(n).contents().find("#from").val(),c(n).contents().find("#to").val(),t[1]+"-"+t[0]+"-"+c(n).contents().find("#day1").val(),e[1]+"-"+e[0]+"-"+c(n).contents().find("#day2").val()):z(c(n).contents().find("#from").val(),c(n).contents().find("#to").val(),t[1]+"-"+t[0]+"-"+c(n).contents().find("#day1").val())}(t);break;case y:e=function(n){var t="";return"round"==c(n).contents().find('[name="breturn"]').val()&&(t=c(n).contents().find('[name="month2"]').val()+"-"+c(n).contents().find('[name="day2"]').val()),z(c(n).contents().find('[name="orgCityCode"]').val(),c(n).contents().find('[name="destCityCode"]').val(),c(n).contents().find('[name="month1"]').val()+"-"+c(n).contents().find('[name="day1"]').val(),t)}(t);break;case b:e=function(n){var t=c(n).contents().find('[name="orgMonth"]').val(),e=c(n).contents().find('[name="orgDay"]').val(),a=c(n).contents().find('[name="returnMonth"]').val(),i=c(n).contents().find('[name="returnDay"]').val(),r="";return 0<i.length&&(r=i+"-"+a.substring(5,7)+"-"+a.substring(0,4)),z(c(n).contents().find('[name="orgCityCode"]').val(),c(n).contents().find('[name="destCityCode"]').val(),sDepartDate=e+"-"+t.substring(5,7)+"-"+t.substring(0,4),r)}(t);break;case k:e=function(n){return z(c(n).contents().find('[name="ondCityCode[0].origin"]').val(),c(n).contents().find('[name="ondCityCode[0].destination"]').val(),c(n).contents().find('[name="ondCityCode[0].month"]').val()+"-"+c(n).contents().find('[name="ondCityCode[0].day"]').val(),c(n).contents().find('[name="ondCityCode[1].month"]').val()+"-"+c(n).contents().find('[name="ondCityCode[1].day"]').val())}(t);break;case h:e=function(n){return z(c(n).contents().find("#originCode").val(),c(n).contents().find("#destCode").val(),c(n).contents().find("#departMonthYear").val()+"-"+c(n).contents().find("#departDay").val(),c(n).contents().find("#returnMonthYear").val()+"-"+c(n).contents().find("#returnDay").val())}(t);break;case D:n=k,e="Link Clicked";break;case g:e=function(n){var t=c(n).contents().find('[name="ondCityCode[0].month"]').val().split("/"),e=c(n).contents().find('[name="ondCityCode[1].month"]').val().split("/");return z(c(n).contents().find('[name="ondCityCode[0].origin"]').val(),c(n).contents().find('[name="ondCityCode[0].destination"]').val(),t[1]+"-"+t[0]+"-"+c(n).contents().find('[name="ondCityCode[0].day"]').val(),e[1]+"-"+e[0]+"-"+c(n).contents().find('[name="ondCityCode[1].day"]').val())}(t);break;case i:e=function(n){var t=new Date(c(n).contents().find("#txtDepartureDate").val()),e=new Date(c(n).contents().find("#txtReturnDate").val()),a="";return c(n).contents().find("#rbReturn").attr("checked")&&(a=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()),z(c(n).contents().find("#ddlOrigin").val(),c(n).contents().find("#ddlDestination").val(),t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate(),a)}(t);break;case Y:e=function(n){return z(n.orig,n.dest,n.dtDep,n.dtRet)}(t);break;case N:e=function(n){var t=c(n).contents().find("#airport-origin").val(),e=c(n).contents().find("#airport-destination").val(),a=c(n).contents().find("#date-going").val().split("/"),i=[],r=c(n).contents().find("#date-return").val(),d=a[2]+"-"+a[1]+"-"+a[0],s="";return 1<r.trim().length&&(s=(i=r.split("/"))[2]+"-"+i[1]+"-"+i[0]),z(t,e,d,s)}(t);break;case l:e=function(n){return 1==("R"==c(n).contents().find("input[name=segtype]:checked").val())?z(c(n).contents().find("#name_city1").val(),c(n).contents().find("#name_city2").val(),c(n).contents().find("#mon1").val()+"-"+c(n).contents().find("#dat1").val(),c(n).contents().find("#mon2").val()+"-"+c(n).contents().find("#dat2").val()):z(c(n).contents().find("#name_city1").val(),c(n).contents().find("#name_city2").val(),c(n).contents().find("#mon1").val()+"-"+c(n).contents().find("#dat1").val())}(t);break;case f:e=function(n){return z(c(n).contents().find("input[name='placeOne']").val(),c(n).contents().find("input[name='placeTwo']").val(),c(n).contents().find("input[name='departureDate']").val(),c(n).contents().find("input[name='returnDate']").val())}(t);break;case j:e=function(n){var t="checked"===c(n.roundtrip).attr("checked"),e=new Date(Date.parse(c(n).contents().find("#date-depart").val()));if(1!=t)return z(c(n).contents().find("#from").val(),c(n).contents().find("#to").val(),e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2));var a=new Date(Date.parse(c(n).contents().find("#date-return").val()));return z(c(n).contents().find("#from").val(),c(n).contents().find("#to").val(),e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2),a.getFullYear()+"-"+("0"+(a.getMonth()+1)).slice(-2)+"-"+("0"+a.getDate()).slice(-2))}(t);break;case m:e=function(n){var t="Return"==c(n).contents().find("input[name='tripType']:checked").val(),e={Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"},a=e[c(n).contents().find("select[id='ddlDepMonth']").val().split(" ")[0]],i=c(n).contents().find("select[id='ddlDepMonth']").val().split(" ")[1],r=e[c(n).contents().find("select[id='ddlRetMonth']").val().split(" ")[0]],d=c(n).contents().find("select[id='ddlRetMonth']").val().split(" ")[1],s=i+"-"+a+"-"+c(n).contents().find("select[id='ddlDepDay']").val(),o=t?d+"-"+r+"-"+c(n).contents().find("select[id='ddlRetDay']").val():"";return z(c(n).contents().find("select[id='originairportcode']").val(),c(n).contents().find("select[id='destairportcode']").val(),s,o)}(t);break;case F:e=function(n){return 1==("O"!=c(n).contents().find("input[name='tripType']:checked").val())?z(c(n).contents().find("#fromStation").val(),c(n).contents().find("#toStation").val(),c(n).contents().find("[name=departing]").val(),c(n).contents().find("[name=returning]").val()):z(c(n).contents().find("#fromStation").val(),c(n).contents().find("#toStation").val(),c(n).contents().find("[name=departing]").val())}(t);break;case C:n=C,e="Link Clicked";break;default:e="[unknown]"}var a=c({});-1<[p,x,T].indexOf(n)?a.data("eVar48",S(n)):a.data("eVar48",n),a.data("eVar38","farefinder"),a.data("eVar47",e),a.data("eVar8",S(n)),a.data("events","event31"),a.data("description","Farefinder: "+n),a.data("type",Z(n)),c.omnitureTracking.omnitureLink(a)}}}),c.ffanz=function(n){var t=c.extend({org:"",dest:"",dtDepart:"",dtReturn:""},n);J(r,z(t.org,t.dest,t.dtDepart,t.dtReturn))},c.ffchinaeastern=function(n){var t=c.extend({org:"",dest:"",dtDepart:"",dtReturn:""},n);J(f,z(t.org,t.dest,t.dtDepart,t.dtReturn))},c.ffaasia=function(n){var t=c.extend({org:"",dest:"",dtDepart:"",dtReturn:""},n);J(e,z(t.org,t.dest,t.dtDepart,t.dtReturn))},c.ffemirates=function(n){var t=c.extend({org:"",dest:"",dtDepart:"",dtReturn:""},n);J(v,z(t.org,t.dest,t.dtDepart,t.dtReturn))},c.ffhawaiian=function(n){var t=c.extend({org:"",dest:"",dtDepart:"",dtReturn:""},n);J(p,z(t.org,t.dest,t.dtDepart,t.dtReturn))},c.ffkorean=function(n){var t=c.extend({org:"",dest:"",dtDepart:"",dtReturn:""},n);J(y,z(t.org,t.dest,t.dtDepart,t.dtReturn))},c.ffkoreanjp=function(n){var t=c.extend({org:"",dest:"",dtDepart:"",dtReturn:""},n);J(b,z(t.org,t.dest,t.dtDepart,t.dtReturn))},c.ffthl=function(n){var t=c.extend({org:"",dest:"",dtDepart:"",dtReturn:""},n);J(L,z(t.org,t.dest,t.dtDepart,t.dtReturn))},c.ffwilderness=function(n){var t=c.extend({org:"",dest:"",dtDepart:"",dtReturn:""},n);J(q,z(t.org,t.dest,t.dtDepart,t.dtReturn))},c.ffintercity=function(n){var t=c.extend({org:"",dest:"",dtDepart:"",dtReturn:""},n);J(A,z(t.org,t.dest,t.dtDepart,t.dtReturn))},c.ffinterislander=function(n){var t=c.extend({org:"",dest:"",dtDepart:"",dtReturn:""},n);J(V,z(t.org,t.dest,t.dtDepart,t.dtReturn))}},TNZ.JSLib.requireLoadEvent(["jqready"],function(){TNZ.TrackingFFController(jQuery)});